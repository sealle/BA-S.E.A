{"version":3,"file":"6.eb96e9d1b7311cf1fd71.hot-update.js","sources":["webpack:///components/UserList.js"],"sourcesContent":["import React, { Component } from \"react\";\nimport {\n  Icon,\n  Container,\n  Table,\n  Header,\n  List,\n  Grid,\n  Button\n} from \"semantic-ui-react\";\nimport fetch from \"isomorphic-unfetch\";\nimport ProfileHeader from \"../components/ProfileHeader\";\nimport Layout from \"../components/Layout\";\nimport getCurrentUser from \"../utils/UserUtils\";\nimport axios from \"axios\";\n\nexport default class UserList extends Component {\n  constructor() {\n    super();\n    this.state = {\n      users: [],\n      usrs: [],\n      test: \"\",\n      isChosen: false,\n      isPromoted: false\n    };\n    this.currentUser = getCurrentUser();\n    this.makeAdmin = e => this._makeAdmin();\n  }\n\n  async componentDidMount() {\n    try {\n      const response = await axios.post(window.location.origin + \"/userlist\");\n      if (response.data.success) {\n        this.setState({ users: response.data.userData });\n      }\n    } catch (error) {\n      console.log(error);\n    }\n  }\n\n  async selectUser(member, e) {\n    let currentUser = member.username;\n    try {\n      const response = await axios.post(window.location.origin + \"/users\", {\n        currentUser\n      });\n      if (response.data.success) {\n        this.setState({ usrs: response.data.userData });\n        this.setState({ img1: response.data.pic1 });\n        this.setState({ img2: response.data.pic2 });\n      }\n    } catch (error) {\n      console.log(error);\n    }\n    this.setState({ isChosen: true });\n  }\n\n  async _makeAdmin() {\n    let currentUser = this.state.usrs[0].username;\n    try {\n      const response = await axios.post(window.location.origin + \"/makeadmin\", {\n        currentUser\n      });\n      if (response.data.success) {\n        this.setState({ successMessage: response.data.message });\n        console.log(this.state.successMessage);\n      }\n    } catch (error) {\n      console.log(error);\n    }\n    this.setState({ isPromoted: true });\n  }\n\n  //TODO: Create UserProfile component with default template\n  render() {\n    return (\n      <div>\n        <Layout>\n          <Header as=\"h1\" style={{ textAlign: \"center\", marginTop: \"30px\" }}>\n            List of all Users\n          </Header>\n          <Container style={{ marginTop: \"10px\" }}>\n            <Grid>\n              <Grid.Column width={4}>\n                <List>\n                  {this.state.users.map(member => (\n                    <List.Item key={member.id}>\n                      <Icon name=\"user\" size=\"small\" />\n                      <List.Content>\n                        <List.Header\n                          as=\"a\"\n                          onClick={this.selectUser.bind(this, member)}\n                        >\n                          {member.username}\n                        </List.Header>\n                      </List.Content>\n                    </List.Item>\n                  ))}\n                </List>\n              </Grid.Column>\n              <Grid.Column width={12}>\n                {this.state.isChosen ? (\n                  <div>\n                    <Layout>\n                      <Container style={{ marginTop: \"10px\" }}>\n                        <Header\n                          as=\"h3\"\n                          block\n                          style={{ backgroundColor: \"#d9edf7\" }}\n                        >\n                          <Icon\n                            name=\"user\"\n                            size=\"big\"\n                            style={{ align: \"left\" }}\n                          />\n                          {this.state.usrs[0].lname},{this.state.usrs[0].fname}\n                          {/*TODO: Make it work! :)*/}\n                        </Header>\n                        <Table>\n                          <Table.Body>\n                            <Table.Row>\n                              <Table.Cell>\n                                Username: {this.state.usrs[0].username}\n                              </Table.Cell>\n                              <Table.Cell>\n                                ID: {this.state.usrs[0].id}\n                              </Table.Cell>\n                            </Table.Row>\n                            <Table.Row>\n                              <Table.Cell>\n                                First Name: {this.state.usrs[0].fname}\n                              </Table.Cell>\n                              <Table.Cell>\n                                Last Name: {this.state.usrs[0].lname}\n                              </Table.Cell>\n                            </Table.Row>\n                          </Table.Body>\n                        </Table>\n                        <img\n                          className=\"img-responsive\"\n                          src={`../static/${this.state.img1}`}\n                          style={{\n                            width: \"200px\",\n                            height: \"113px\",\n                            float: \"left\"\n                          }}\n                        />\n                        <img\n                          className=\"img-responsive\"\n                          src={`../static/${this.state.img2}`}\n                          style={{\n                            width: \"200px\",\n                            height: \"113px\",\n                            float: \"right\"\n                          }}\n                        />\n                      </Container>\n                      {this.state.isPromoted == false ? (\n                        <Button primary onClick={this.makeAdmin}>\n                          Make Admin\n                        </Button>\n                      ) : (\n                        <Button primary disabled>\n                          Make Admin\n                        </Button>\n                      )}\n                    </Layout>\n                  </div>\n                ) : null}\n              </Grid.Column>\n            </Grid>\n          </Container>\n        </Layout>\n      </div>\n    );\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// components/UserList.js"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AASA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;AACA;AAAA;AACA;AADA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AALA;AAOA;AACA;AAAA;AAAA;AAAA;AACA;AAXA;AAWA;AACA;;;;;;;;;;;;;;AAGA;AACA;;AADA;AACA;AAAA;AACA;AAAA;AAAA;AACA;AACA;;;;;;;AACA;AACA;;;;;;;;;;;;;;;;;;AAGA;;;;;;AACA;;;AAEA;AACA;AADA;AACA;;AADA;AACA;AAEA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AACA;;;;;;;AACA;AACA;;AACA;AAAA;AAAA;AACA;;;;;;;;;;;;;;;;;;;;;;;;AAGA;;;AAEA;AACA;AADA;AACA;;AADA;AACA;AAEA;AACA;AAAA;AAAA;AACA;AACA;AACA;;;;;;;AACA;AACA;;AACA;AAAA;AAAA;AACA;;;;;;;;;;;;AAEA;AACA;;;AAAA;AAAA;AACA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AAFA;AAAA;AAAA;AAAA;AAAA;AAJA;AAeA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AAAA;AAAA;AAHA;AAAA;AAAA;AAAA;AAAA;AAMA;AACA;AACA;AAAA;AAAA;AAHA;AAAA;AAAA;AAAA;AAAA;AAQA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAIA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAOA;AACA;AACA;AACA;AACA;AACA;AAHA;AAHA;AAAA;AAAA;AAAA;AAAA;AAUA;AACA;AACA;AACA;AACA;AACA;AAHA;AAHA;AAAA;AAAA;AAAA;AAAA;AAWA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAaA;;;;AAhKA;AACA;;;;;A","sourceRoot":""}