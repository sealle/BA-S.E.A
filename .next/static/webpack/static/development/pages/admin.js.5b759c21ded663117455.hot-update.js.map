{"version":3,"file":"static/webpack/static/development/pages/admin.js.5b759c21ded663117455.hot-update.js","sources":["webpack:///./components/UserList.js"],"sourcesContent":["import React, { Component } from \"react\";\nimport {\n  Icon,\n  Container,\n  Table,\n  Header,\n  List,\n  Grid,\n  Button,\n  Segment,\n  Form,\n  Message\n} from \"semantic-ui-react\";\nimport Layout from \"../components/Layout\";\n// import getCurrentUser from \"../utils/UserUtils\";\nimport axios from \"axios\";\n\nexport default class UserList extends Component {\n  constructor() {\n    super();\n    this.state = {\n      users: [],\n      usrs: [],\n      test: \"\",\n      isChosen: false,\n      isPromoted: false,\n      isComp: \"\",\n      inEdit: false,\n      isAdmin: false\n    };\n    //this.currentUser = getCurrentUser();\n    this.makeAdmin = e => this._makeAdmin();\n    this.toEdit = this.toEdit.bind(this);\n    this.backEdit = this.backEdit.bind(this);\n  }\n\n  async componentDidMount() {\n    try {\n      const response = await axios.post(window.location.origin + \"/userlist\");\n      if (response.data.success) {\n        this.setState({ users: response.data.userData });\n      }\n    } catch (error) {\n      console.log(error);\n    }\n  }\n\n  async selectUser(member, e) {\n    let currentUser = member.username;\n    try {\n      const response = await axios.post(window.location.origin + \"/usrs\", {\n        currentUser\n      });\n      if (response.data.success) {\n        this.setState({\n          usrs: response.data.userData,\n          isComp: response.data.isComp,\n          img1: response.data.pic1,\n          img2: response.data.pic2,\n          doc1: response.data.doc1,\n          doc2: response.data.doc2\n        });\n      }\n    } catch (error) {\n      console.log(error);\n    }\n    this.setState({ isChosen: true });\n  }\n\n  async _makeAdmin() {\n    let currentUser = this.state.usrs[0].username;\n    try {\n      const response = await axios.post(window.location.origin + \"/makeadmin\", {\n        currentUser\n      });\n      if (response.data.success) {\n        this.setState({ successMessage: response.data.message, isAdmin: true });\n        console.log(this.state.successMessage);\n      }\n    } catch (error) {\n      console.log(error);\n    }\n    this.setState({ isPromoted: true });\n  }\n\n  toEdit() {\n    this.setState({ inEdit: \"true\" });\n  }\n\n  backEdit() {\n    this.setState({ inEdit: \"false\" });\n  }\n\n  //TODO: Create UserProfile component with default template\n  render() {\n    return (\n      <div>\n        <Layout>\n          <Segment\n            style={{ marginTop: \"50px\", marginLeft: \"-126px\", width: \"900px\" }}\n          >\n            <Header\n              as=\"h1\"\n              style={{\n                textAlign: \"center\",\n                marginTop: \"10px\",\n                color: \"#2985d0\"\n              }}\n            >\n              List of all Users\n            </Header>\n            <Container style={{ marginTop: \"10px\" }}>\n              <Grid>\n                <Grid.Column width={4} style={{ marginTop: \"12px\" }}>\n                  <List divided relaxed>\n                    {this.state.users.map(member => (\n                      <List.Item\n                        key={member.id}\n                        onClick={this.selectUser.bind(this, member)}\n                      >\n                        <Icon\n                          name=\"user\"\n                          size=\"large\"\n                          style={{ paddingTop: \"5px\" }}\n                        />\n                        <List.Content>\n                          <List.Header as=\"a\">{member.username}</List.Header>\n                          <List.Description as=\"a\">\n                            {member.lname}, {member.fname}\n                          </List.Description>\n                        </List.Content>\n                      </List.Item>\n                    ))}\n                  </List>\n                </Grid.Column>\n                <Grid.Column width={12}>\n                  {this.state.isChosen ? (\n                    <div>\n                      <Layout>\n                        <Container style={{ marginTop: \"10px\" }}>\n                          <Header\n                            as=\"h3\"\n                            block\n                            style={{ backgroundColor: \"#d9edf7\" }}\n                          >\n                            <Icon\n                              name=\"user\"\n                              size=\"big\"\n                              style={{ align: \"left\" }}\n                            />\n                            {this.state.usrs[0].lname},{\" \"}\n                            {this.state.usrs[0].fname}\n                          </Header>\n                          {this.state.inEdit === false ? (\n                            <Table>\n                              <Table.Body>\n                                <Table.Row>\n                                  <Table.Cell>\n                                    <p\n                                      style={{\n                                        fontWeight: \"bold\",\n                                        display: \"inline-block\",\n                                        paddingRight: \"10px\"\n                                      }}\n                                    >\n                                      Username:\n                                    </p>\n                                    {this.state.usrs[0].username}\n                                  </Table.Cell>\n                                  <Table.Cell>\n                                    <p\n                                      style={{\n                                        fontWeight: \"bold\",\n                                        display: \"inline-block\",\n                                        paddingRight: \"10px\"\n                                      }}\n                                    >\n                                      ID:\n                                    </p>\n                                    {this.state.usrs[0].id}\n                                  </Table.Cell>\n                                </Table.Row>\n                                <Table.Row>\n                                  <Table.Cell>\n                                    <p\n                                      style={{\n                                        fontWeight: \"bold\",\n                                        display: \"inline-block\",\n                                        paddingRight: \"10px\"\n                                      }}\n                                    >\n                                      Street:\n                                    </p>\n                                    {this.state.usrs[0].street}\n                                  </Table.Cell>\n                                  <Table.Cell>\n                                    <p\n                                      style={{\n                                        fontWeight: \"bold\",\n                                        display: \"inline-block\",\n                                        paddingRight: \"10px\"\n                                      }}\n                                    >\n                                      House Nr:\n                                    </p>\n                                    {this.state.usrs[0].houseNr}\n                                  </Table.Cell>\n                                </Table.Row>\n                                <Table.Row>\n                                  <Table.Cell>\n                                    <p\n                                      style={{\n                                        fontWeight: \"bold\",\n                                        display: \"inline-block\",\n                                        paddingRight: \"10px\"\n                                      }}\n                                    >\n                                      Postal Code:\n                                    </p>\n                                    {this.state.usrs[0].postCode}\n                                  </Table.Cell>\n                                  <Table.Cell>\n                                    <p\n                                      style={{\n                                        fontWeight: \"bold\",\n                                        display: \"inline-block\",\n                                        paddingRight: \"10px\"\n                                      }}\n                                    >\n                                      Residence:\n                                    </p>\n                                    {this.state.usrs[0].placeOfRes}\n                                  </Table.Cell>\n                                </Table.Row>\n                                <Table.Row>\n                                  <Table.Cell>\n                                    <p\n                                      style={{\n                                        fontWeight: \"bold\",\n                                        display: \"inline-block\",\n                                        paddingRight: \"10px\"\n                                      }}\n                                    >\n                                      Birthday:\n                                    </p>\n                                    {this.state.usrs[0].dateOfBirth}\n                                  </Table.Cell>\n                                  <Table.Cell>\n                                    <p\n                                      style={{\n                                        fontWeight: \"bold\",\n                                        display: \"inline-block\",\n                                        paddingRight: \"10px\"\n                                      }}\n                                    >\n                                      Nationality:\n                                    </p>\n                                    {this.state.usrs[0].nat}\n                                  </Table.Cell>\n                                </Table.Row>\n                                <Table.Row>\n                                  <Table.Cell>\n                                    <p\n                                      style={{\n                                        fontWeight: \"bold\",\n                                        display: \"inline-block\",\n                                        paddingRight: \"10px\"\n                                      }}\n                                    >\n                                      Email:\n                                    </p>\n                                    {this.state.usrs[0].email}\n                                  </Table.Cell>\n                                  <Table.Cell>\n                                    <p\n                                      style={{\n                                        fontWeight: \"bold\",\n                                        display: \"inline-block\",\n                                        paddingRight: \"10px\"\n                                      }}\n                                    >\n                                      Mobile Nr:\n                                    </p>\n                                    {this.state.usrs[0].mobNr}\n                                  </Table.Cell>\n                                </Table.Row>\n                                <Table.Row>\n                                  <Table.Cell>\n                                    <p\n                                      style={{\n                                        fontWeight: \"bold\",\n                                        display: \"inline-block\",\n                                        paddingRight: \"10px\"\n                                      }}\n                                    >\n                                      Role:\n                                    </p>\n                                    {this.state.usrs[0].privileges}\n                                  </Table.Cell>\n                                  <Table.Cell>\n                                    <p\n                                      style={{\n                                        fontWeight: \"bold\",\n                                        display: \"inline-block\",\n                                        paddingRight: \"10px\"\n                                      }}\n                                    >\n                                      is Registered:\n                                    </p>\n                                    {this.state.usrs[0].isRegistered}\n                                  </Table.Cell>\n                                </Table.Row>\n                                {/* <Table.Row>\n                                <Table.Cell colSpan={2}>\n                                  <p\n                                    style={{\n                                      fontWeight: \"bold\",\n                                      display: \"inline-block\",\n                                      paddingRight: \"10px\"\n                                    }}\n                                  >\n                                    Hash:\n                                  </p>\n                                  {this.state.usrs[0].hash}\n                                </Table.Cell>\n                              </Table.Row> */}\n                                <Table.Row>\n                                  <Table.Cell colSpan={2}>\n                                    <p\n                                      style={{\n                                        fontWeight: \"bold\",\n                                        display: \"inline-block\",\n                                        paddingRight: \"10px\"\n                                      }}\n                                    >\n                                      Registration Date:\n                                    </p>\n                                    {this.state.usrs[0].regDate}\n                                  </Table.Cell>\n                                </Table.Row>\n                                <Table.Row>\n                                  <Table.Cell colSpan={2}>\n                                    <p\n                                      style={{\n                                        fontWeight: \"bold\",\n                                        display: \"inline-block\",\n                                        paddingRight: \"10px\"\n                                      }}\n                                    >\n                                      KYC Key:\n                                    </p>\n                                    {this.state.usrs[0].kycKey}\n                                  </Table.Cell>\n                                </Table.Row>\n                                <Table.Row>\n                                  <Table.Cell colSpan={2}>\n                                    {this.state.usrs[0].privileges == \"user\" &&\n                                    this.state.usrs[0].isRegistered == \"yes\" && !this.state.isAdmin ? (\n                                      <Button\n                                        primary\n                                        onClick={this.makeAdmin}\n                                        fluid\n                                      >\n                                        Make Admin\n                                      </Button>\n                                    ) : (\n                                      <Button primary disabled fluid>\n                                        Make Admin\n                                      </Button>\n                                    )}\n                                  </Table.Cell>\n                                </Table.Row>\n                                <Table.Row>\n                                  <Table.Cell colSpan={2}>\n                                    <Button\n                                      primary\n                                      fluid\n                                      onClick={() => {\n                                        this.setState({ inEdit: true });\n                                      }}\n                                    >\n                                      Edit\n                                    </Button>\n                                  </Table.Cell>\n                                </Table.Row>\n                              </Table.Body>\n                            </Table>\n                          ) : (\n                            <Form\n                              onSubmit={this.handleSubmit}\n                              error={this.state.errorMessage}\n                            >\n                              <Button\n                                primary\n                                style={{\n                                  backgroundColor: \"white\",\n                                  marginLeft: \"92%\",\n                                  width: \"10px\"\n                                }}\n                                onClick={() => {\n                                  this.setState({ inEdit: false });\n                                }}\n                              >\n                                <Icon name=\"close\" size=\"large\" color=\"blue\" />\n                              </Button>\n                              <Form.Group widths=\"equal\">\n                                <Form.Input\n                                  fluid\n                                  label=\"Username\"\n                                  placeholder={this.state.usrs[0].username}\n                                  name=\"username\"\n                                />\n                                <Form.Input\n                                  fluid\n                                  label=\"ID\"\n                                  placeholder={this.state.usrs[0].id}\n                                />\n                              </Form.Group>\n                              <Form.Group widths=\"equal\">\n                                <Form.Input\n                                  fluid\n                                  label=\"First Name\"\n                                  placeholder={this.state.usrs[0].fname}\n                                  name=\"fname\"\n                                />\n                                <Form.Input\n                                  fluid\n                                  label=\"Last Name\"\n                                  placeholder={this.state.usrs[0].lname}\n                                  name=\"lname\"\n                                  value={this.state.lname}\n                                  onChange={event =>\n                                    this.setState({ lname: event.target.value })\n                                  }\n                                />\n                              </Form.Group>\n                              <Form.Group>\n                                <Form.Input\n                                  width=\"eleven\"\n                                  fluid\n                                  label=\"Street\"\n                                  placeholder={this.state.usrs[0].street}\n                                  name=\"street\"\n                                  value={this.state.street}\n                                  onChange={event =>\n                                    this.setState({\n                                      street: event.target.value\n                                    })\n                                  }\n                                />\n                                <Form.Input\n                                  width=\"five\"\n                                  type=\"number\"\n                                  fluid\n                                  label=\"House Number\"\n                                  placeholder={this.state.usrs[0].houseNr}\n                                  name=\"houseNr\"\n                                  value={this.state.houseNr}\n                                  onChange={event =>\n                                    this.setState({\n                                      houseNr: event.target.value\n                                    })\n                                  }\n                                />\n                              </Form.Group>\n                              <Form.Group>\n                                <Form.Input\n                                  width=\"six\"\n                                  fluid\n                                  type=\"number\"\n                                  label=\"Postal Code\"\n                                  placeholder={this.state.usrs[0].postCode}\n                                  name=\"postCode\"\n                                  value={this.state.postCode}\n                                  onChange={event =>\n                                    this.setState({\n                                      postCode: event.target.value\n                                    })\n                                  }\n                                />\n                                <Form.Input\n                                  width=\"ten\"\n                                  fluid\n                                  label=\"Place of Residence\"\n                                  placeholder={this.state.usrs[0].placeOfRes}\n                                  name=\"placeOfRes\"\n                                  value={this.state.placeOfRes}\n                                  onChange={event =>\n                                    this.setState({\n                                      placeOfRes: event.target.value\n                                    })\n                                  }\n                                />\n                              </Form.Group>\n                              <Form.Group widths=\"equal\">\n                                <Form.Input\n                                  fluid\n                                  label=\"Date of Birth\"\n                                  placeholder={this.state.usrs[0].dateOfBirth}\n                                />\n                                <Form.Input\n                                  fluid\n                                  label=\"Nationality\"\n                                  placeholder={this.state.usrs[0].nat}\n                                  name=\"nat\"\n                                  value={this.state.nat}\n                                  onChange={event =>\n                                    this.setState({ nat: event.target.value })\n                                  }\n                                />\n                              </Form.Group>\n                              <Form.Group widths=\"equal\">\n                                <Form.Input\n                                  fluid\n                                  label=\"Email\"\n                                  type=\"email\"\n                                  placeholder={this.state.usrs[0].email}\n                                  name=\"email\"\n                                  value={this.state.email}\n                                  onChange={event =>\n                                    this.setState({ email: event.target.value })\n                                  }\n                                />\n                                <Form.Input\n                                  fluid\n                                  label=\"Mobile Number\"\n                                  type=\"number\"\n                                  placeholder={this.state.usrs[0].mobNr}\n                                  name=\"mobNr\"\n                                  value={this.state.mobNr}\n                                  onChange={event =>\n                                    this.setState({ mobNr: event.target.value })\n                                  }\n                                />\n                              </Form.Group>\n                            </Form>\n                          )}\n                          {this.state.inEdit === false ? (\n                            <Grid>\n                              <Grid.Column width={8}>\n                                <img\n                                  className=\"img-responsive\"\n                                  src={`../static/${this.state.img1}`}\n                                  style={{\n                                    width: \"200px\",\n                                    height: \"113px\",\n                                    float: \"left\"\n                                  }}\n                                />\n                              </Grid.Column>\n                              <Grid.Column width={8}>\n                                <img\n                                  className=\"img-responsive\"\n                                  src={`../static/${this.state.img2}`}\n                                  style={{\n                                    width: \"200px\",\n                                    height: \"113px\",\n                                    float: \"right\"\n                                  }}\n                                />\n                              </Grid.Column>\n                            </Grid>\n                          ) : null}\n\n                          {this.state.isComp === 1 ? (\n                            <Table>\n                              <Table.Body>\n                                <Table.Row>\n                                  <Table.Cell colSpan={2}>\n                                    <p\n                                      style={{\n                                        fontWeight: \"bold\",\n                                        display: \"inline-block\",\n                                        paddingRight: \"10px\"\n                                      }}\n                                    >\n                                      Company Name:\n                                    </p>\n                                    {this.state.usrs[0].compName}\n                                  </Table.Cell>\n                                </Table.Row>\n                                <Table.Row>\n                                  <Table.Cell>\n                                    <p\n                                      style={{\n                                        fontWeight: \"bold\",\n                                        display: \"inline-block\",\n                                        paddingRight: \"10px\"\n                                      }}\n                                    >\n                                      Business Address:\n                                    </p>\n                                    {this.state.usrs[0].businessAd}\n                                  </Table.Cell>\n                                  <Table.Cell>\n                                    <p\n                                      style={{\n                                        fontWeight: \"bold\",\n                                        display: \"inline-block\",\n                                        paddingRight: \"10px\"\n                                      }}\n                                    >\n                                      House Nr:\n                                    </p>\n                                    {this.state.usrs[0].compHouseNr}\n                                  </Table.Cell>\n                                </Table.Row>\n                                <Table.Row>\n                                  <Table.Cell>\n                                    <p\n                                      style={{\n                                        fontWeight: \"bold\",\n                                        display: \"inline-block\",\n                                        paddingRight: \"10px\"\n                                      }}\n                                    >\n                                      Postal Code:\n                                    </p>\n                                    {this.state.usrs[0].compPostCode}\n                                  </Table.Cell>\n                                  <Table.Cell>\n                                    <p\n                                      style={{\n                                        fontWeight: \"bold\",\n                                        display: \"inline-block\",\n                                        paddingRight: \"10px\"\n                                      }}\n                                    >\n                                      Residence:\n                                    </p>\n                                    {this.state.usrs[0].residence}\n                                  </Table.Cell>\n                                </Table.Row>\n                                <Table.Row>\n                                  <Table.Cell colSpan={2}>\n                                    <a\n                                      href={`../static/${this.state.doc1}`}\n                                      type=\"application/pdf\"\n                                      target=\"_blank\"\n                                    >\n                                      View extract of the relevant registration\n                                      authority\n                                    </a>\n                                  </Table.Cell>\n                                </Table.Row>\n                                <Table.Row>\n                                  <Table.Cell colSpan={2}>\n                                    <a\n                                      href={`../static/${this.state.doc2}`}\n                                      type=\"application/pdf\"\n                                      target=\"_blank\"\n                                    >\n                                      View electronic copy of the power of\n                                      attorney\n                                    </a>\n                                  </Table.Cell>\n                                </Table.Row>\n                              </Table.Body>\n                            </Table>\n                          ) : null}\n                        </Container>\n                      </Layout>\n                    </div>\n                  ) : null}\n                </Grid.Column>\n              </Grid>\n            </Container>\n          </Segment>\n        </Layout>\n      </div>\n    );\n  }\n}\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AAYA;AACA;AACA;AACA;AACA;;;;;AACA;AAAA;AACA;AADA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AARA;AACA;AAUA;AAAA;AAAA;AACA;AAAA;AACA;AAfA;AAgBA;AACA;;;;;;;;;;;;;;AAGA;AACA;;AADA;AACA;AAAA;AACA;AAAA;AAAA;AACA;AACA;;;;;;;AACA;AACA;;;;;;;;;;;;;;;;;;AAGA;;;;;;AACA;;;AAEA;AACA;AADA;AACA;;AADA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AANA;AAQA;AACA;;;;;;;AACA;AACA;;AACA;AAAA;AAAA;AACA;;;;;;;;;;;;;;;;;;;;;;;;AAGA;;;AAEA;AACA;AADA;AACA;;AADA;AACA;AAEA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AACA;;;;;;;AACA;AACA;;AACA;AAAA;AAAA;AACA;;;;;;;;;;;;;;;AAEA;AACA;AAAA;AAAA;AACA;;;AAEA;AACA;AAAA;AAAA;AACA;AACA;;;AAEA;AAAA;AACA;AAAA;AAIA;AAAA;AAAA;AAAA;AAAA;AADA;AAIA;AACA;AACA;AACA;AACA;AAHA;AAFA;AAUA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAEA;AACA;AAFA;AAKA;AACA;AACA;AAAA;AAAA;AAHA;AAMA;AAAA;AACA;AAAA;AAZA;AAoBA;AAAA;AAIA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AAAA;AAAA;AAHA;AAMA;AACA;AACA;AAAA;AAAA;AAHA;AAcA;AACA;AACA;AACA;AAHA;AADA;AAaA;AACA;AACA;AACA;AAHA;AADA;AAeA;AACA;AACA;AACA;AAHA;AADA;AAaA;AACA;AACA;AACA;AAHA;AADA;AAeA;AACA;AACA;AACA;AAHA;AADA;AAaA;AACA;AACA;AACA;AAHA;AADA;AAeA;AACA;AACA;AACA;AAHA;AADA;AAaA;AACA;AACA;AACA;AAHA;AADA;AAeA;AACA;AACA;AACA;AAHA;AADA;AAaA;AACA;AACA;AACA;AAHA;AADA;AAeA;AACA;AACA;AACA;AAHA;AADA;AAaA;AACA;AACA;AACA;AAHA;AADA;AA2BA;AAAA;AAEA;AACA;AACA;AACA;AAHA;AADA;AAaA;AAAA;AAEA;AACA;AACA;AACA;AAHA;AADA;AAaA;AAAA;AAIA;AACA;AACA;AAHA;AAQA;AAAA;AAAA;AAAA;AAOA;AAAA;AAEA;AACA;AACA;AACA;AAAA;AAAA;AACA;AALA;AAeA;AACA;AAFA;AAKA;AACA;AACA;AACA;AACA;AAHA;AAKA;AACA;AAAA;AAAA;AACA;AATA;AAWA;AAAA;AAAA;AAAA;AAEA;AAAA;AAEA;AACA;AACA;AACA;AAJA;AAOA;AACA;AACA;AAHA;AAMA;AAAA;AAEA;AACA;AACA;AACA;AAJA;AAOA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AAAA;AADA;AANA;AAaA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAEA;AADA;AADA;AAPA;AAcA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAEA;AADA;AADA;AARA;AAiBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAEA;AADA;AADA;AARA;AAeA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAEA;AADA;AADA;AAPA;AAcA;AAAA;AAEA;AACA;AACA;AAHA;AAMA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AAAA;AADA;AANA;AAWA;AAAA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AAAA;AADA;AAPA;AAYA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AAAA;AADA;AAPA;AAgBA;AAAA;AAEA;AACA;AACA;AACA;AACA;AACA;AAHA;AAHA;AAUA;AAAA;AAEA;AACA;AACA;AACA;AACA;AACA;AAHA;AAHA;AAiBA;AAAA;AAEA;AACA;AACA;AACA;AAHA;AADA;AAeA;AACA;AACA;AACA;AAHA;AADA;AAaA;AACA;AACA;AACA;AAHA;AADA;AAeA;AACA;AACA;AACA;AAHA;AADA;AAaA;AACA;AACA;AACA;AAHA;AADA;AAaA;AAAA;AAEA;AACA;AACA;AAHA;AAWA;AAAA;AAEA;AACA;AACA;AAHA;AAwBA;;;;AA9oBA;AACA;;;;;A","sourceRoot":""}