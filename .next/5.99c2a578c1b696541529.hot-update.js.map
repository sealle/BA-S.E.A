{"version":3,"file":"5.99c2a578c1b696541529.hot-update.js","sources":["webpack:///pages/profile.js"],"sourcesContent":["import React, { Component } from \"react\";\nimport { Link, Router } from \"../routes\";\nimport {\n  Button,\n  Table,\n  Container,\n  Divider,\n  Icon,\n  Form,\n  Message\n} from \"semantic-ui-react\";\nimport { Header } from \"semantic-ui-react\";\nimport Layout from \"../components/Layout\";\nimport axios from \"axios\";\nimport { getCookie } from \"../utils/CookieUtils\";\nimport ProfileHeader from \"../components/ProfileHeader\";\nimport jwtDecode from \"jwt-decode\";\n\nclass Profile extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      message: \"\"\n    };\n    this.testCSRF = e => this._testCSRF();\n  }\n\n  async _testCSRF() {\n    const token = getCookie(\"x-access-token\");\n    const decoded = jwtDecode(token);\n    console.log(decoded);\n    try {\n      const res = await axios.post(\n        window.location.origin + \"/api/preventCRSF\",\n        {\n          example: \"data\"\n        },\n        {\n          headers: {\n            \"X-XSRF-TOKEN\": decoded.xsrftoken\n          }\n        }\n      );\n      if (res.data.success) {\n        this.setState({\n          message: res.data.message //TODO: Fix!\n        });\n      }\n    } catch (error) {\n      this.setState({\n        message: error.response.data.message\n      });\n    }\n  } //!Only for test purposes\n\n  render() {\n    return (\n      <div>\n        <ProfileHeader />\n        <Layout>\n          <Header as=\"h1\" textAlign=\"center\" style={{ marginTop: 60 }}>\n            Hello\n          </Header>\n          <Header as=\"h3\" textAlign=\"center\" style={{ marginBottom: 20 }}>\n            you can view and edit your data here\n          </Header>\n          <Container textAlign=\"center\">\n            <Button onClick={this.testCSRF}>\n              Access API protected by CSFR\n            </Button>\n            <span>{this.state.message}</span>\n            <Link route=\"/videochat\">\n              <Button primary icon labelPosition=\"right\">\n                Next\n                <Icon name=\"right arrow\" />\n              </Button>\n            </Link>\n          </Container>\n        </Layout>\n      </div>\n    );\n  }\n}\n\nexport default Profile;\n\n\n\n// WEBPACK FOOTER //\n// pages/profile.js"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AASA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;AACA;AAAA;AACA;AADA;AACA;AAAA;AACA;AACA;AADA;AACA;AAEA;AAAA;AAAA;AACA;AANA;AAMA;AACA;;;;;;;;;;;;AAEA;AACA;AACA;;;AAEA;AAGA;AADA;AAIA;AACA;AADA;AADA;AACA;;AANA;AACA;AAUA;AACA;AACA;AACA;AAFA;AAGA;AACA;;;;;;;AACA;AACA;AADA;AACA;;;;;;;;;;;;AAGA;AACA;;;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAOA;;;;AA/DA;AACA;AAiEA;;;;;;;;;;;;;;;;;;;;;;;A","sourceRoot":""}